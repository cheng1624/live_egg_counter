<!DOCTYPE html>
<html>
  <head>
		<meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <link href="https://fonts.googleapis.com/css2?family=Nunito+Sans:wght@200&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Raleway:300&display=swap" rel="stylesheet">
    <title>++</title>
    <link rel="stylesheet" type="text/css" href="style.css">		
  </head>

  <body>
		<div class="container_web" id="id_container_web">
    	<div class="container_main" id="id_container_main">
				<h1 id="date"></h1>
				<h1 id="time"></h1>
      	<div class="container_inner" id="counter">
      	</div>
    	</div>
		</div>
  </body>

</html>

<script>
//initialize all values
const initial_egg_num=1590129316000;
const egg_increment=37.77649177;
const reference_egg_date=
{
	year:2000,
	month:6,
	day:1,
	hour:12,
	minute:0,
	second:0
};
var time_since=timeSince(reference_egg_date, getTime());
var counter=initial_egg_num;
//counter=setInitialCount(initial_egg_num, egg_increment, time_since);

//run functions
setTime();
setInterval(setTime, 1000);
getTime();
setInterval(incrementCount(),1000);


//returns a random integer	
function getRandomInt(max) 
{
	return Math.floor(Math.random() * Math.floor(max));
}

// sets the HTML date and time
function setTime() 
{
	var today = new Date();
	var date = (today.toLocaleString('default', { month: 'long' }))+' '+today.getDate()+', '+today.getFullYear();
	var time = today.toLocaleString('en-US', { hour: 'numeric', minute: 'numeric', hour12: true });
	document.getElementById("date").innerHTML=date;
	document.getElementById("time").innerHTML=time;
}

//gets the date and time
function getTime()
{
	var today = new Date();
	var date=
	{
		year:today.getFullYear(),
		month:today.getMonth(),
		day:today.getDate(),
		hour:today.getHours(),
		minute:today.getMinutes(),
		second:today.getSeconds()
	};
	return date;
}

//returns the number of seconds since the reference date
function timeSince(reference_time, current_time)
{
	var time_difference=
	{
		year:current_time.year-reference_time.year,
		month:current_time.month-reference_time.month,
		day:current_time.day-reference_time.day,
		hour:current_time.hour-reference_time.hour,
		minute:current_time.minute-reference_time.minute,
		second:current_time.second-reference_time.second
	}
	if (time_difference.month<0) {time_difference.month+=12;}
	if (time_difference.day<0) {time_difference.day+=30;}
	if (time_difference.hour<0) {time_difference.hour+=24;}
	if (time_difference.minute<0) {time_difference.minute+=60;}
	if (time_difference.second<0) {time_difference.second+=50;}
	var time_difference_sec=time_difference.year*12*30*24*60*60+time_difference.month*30*24*60*60+time_difference.day*24*60*60+time_difference.hour*60*60+time_difference.minute*60+time_difference.second;
	return time_difference_sec;
}

//sets the initial number for counter
function setInitialCount(initial_num, increment_amount, time_since)
{
	return initial_num+(increment_amount*time_since);
}	

//increments counter by a specified number
function incrementCount()
{
	counter+=egg_increment;
	console.log(counter);
	document.getElementById('counter').innerHTML = counter;
}	

//spacebar
document.addEventListener('keyup', event => 
{
	if (event.code === 'Space') 
	{
		window.location.replace("index.html");
	}
}
)
</script>